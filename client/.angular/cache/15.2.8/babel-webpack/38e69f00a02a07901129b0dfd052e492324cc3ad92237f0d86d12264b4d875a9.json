{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { forkJoin, take } from 'rxjs';\nimport { alphabet, textColors, letterPoints } from '../../game.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"./timer/timer.component\";\nconst _c0 = [\"inputField\"];\nfunction GameComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.countdown);\n  }\n}\nfunction GameComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"High Score: \", ctx_r1.highScore.toLocaleString(), \"\");\n  }\n}\nfunction GameComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"div\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const word_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", word_r4, \" \\u2192 \");\n  }\n}\nexport class GameComponent {\n  constructor(http) {\n    this.http = http;\n    this.timerFinished = new EventEmitter();\n    this.quitButtonClicked = new EventEmitter();\n    this.countdown = '3';\n    this.nextLetter = '';\n    this.userInput = this.nextLetter;\n    this.userInputColor = textColors.default;\n    this.wordChain = [];\n    this.wordCache = new Map();\n    this.score = 0;\n    this.highScore = Number(localStorage.getItem('highScore')) || 0;\n    this.alphabet = alphabet;\n    this.letterPoints = letterPoints;\n  }\n  ngAfterViewInit() {\n    this.startCountdown();\n  }\n  focusOnInput() {\n    this.inputField.nativeElement.focus();\n  }\n  startCountdown() {\n    const countdownValues = ['3', '2', '1', 'GO'];\n    let countdownIndex = 0;\n    const displayCountdown = () => {\n      if (countdownIndex >= countdownValues.length) {\n        this.countdown = null;\n        this.setNextLetter();\n        this.focusOnInput();\n      } else {\n        this.countdown = countdownValues[countdownIndex];\n        countdownIndex++;\n        setTimeout(displayCountdown, 1000);\n      }\n    };\n    displayCountdown();\n  }\n  setNextLetter() {\n    this.nextLetter = alphabet[Math.floor(Math.random() * alphabet.length)];\n    this.userInput = this.nextLetter;\n  }\n  onInput(event) {\n    const htmlElement = event.target;\n    const value = htmlElement.value.toUpperCase();\n    this.userInput = value;\n  }\n  onSubmit() {\n    this.validateWord();\n  }\n  calculateScore() {\n    let score = 0;\n    for (let i = 1; i < this.userInput.length; i++) {\n      score += letterPoints[this.userInput[i]];\n    }\n    return score;\n  }\n  handleSuccess(dictionaryResp) {\n    this.userInputColor = textColors.success;\n    const stats = [];\n    for (let i = 1; i < this.userInput.length; i++) {\n      stats.push({\n        letter: this.userInput[i],\n        points: this.letterPoints[this.userInput[i]]\n      });\n    }\n    const totalPoints = this.calculateScore();\n    const word = {\n      index: this.wordChain.length,\n      definitions: dictionaryResp[0].meanings,\n      stats,\n      totalPoints\n    };\n    setTimeout(() => {\n      this.wordChain.push(this.userInput);\n      this.wordCache.set(this.userInput, word);\n      this.score += totalPoints;\n      this.updateNextLetter();\n    }, 250);\n  }\n  handleMistake() {\n    this.userInputColor = textColors.mistake;\n    setTimeout(() => {\n      this.userInput = this.nextLetter;\n      this.userInputColor = textColors.default;\n    }, 500);\n  }\n  validateWord() {\n    const alphabetRegex = /^[a-zA-Z]+$/;\n    if (this.userInput[0] !== this.nextLetter || this.userInput.length === 1 || this.wordCache.has(this.userInput) || !alphabetRegex.test(this.userInput)) {\n      this.handleMistake();\n      return;\n    }\n    // const dictionaryUrl = `https://api.dictionaryapi.dev/api/v2/entries/en/${this.userInput}`;\n    const dictionaryUrl = `http://api.wordnik.com/v4/word.json/${this.userInput}/definitions?api_key=7yjonxaqrr38fsb900hiygigvhofqulav543227af9gengnzd`;\n    const profanityUrl = `https://www.purgomalum.com/service/containsprofanity?text=${this.userInput}`;\n    forkJoin([this.http.get(dictionaryUrl), this.http.get(profanityUrl)]).pipe(take(1)).subscribe(([dictionaryResp, containsProfanity]) => {\n      containsProfanity ? this.handleMistake() : this.handleSuccess(dictionaryResp);\n    }, error => {\n      console.error(error);\n      this.handleMistake();\n    });\n  }\n  updateNextLetter() {\n    this.nextLetter = this.userInput[this.userInput.length - 1];\n    this.userInput = this.nextLetter;\n    this.userInputColor = textColors.default;\n  }\n  handleTimerFinished() {\n    this.timerFinished.emit({\n      chain: this.wordChain,\n      cache: this.wordCache,\n      score: this.score\n    });\n  }\n  playAgain() {\n    this.wordChain = [];\n    this.wordCache = new Map();\n    if (this.score > this.highScore) {\n      this.highScore = this.score;\n      localStorage.setItem('highScore', this.highScore.toLocaleString());\n    }\n    this.score = 0;\n    this.setNextLetter();\n    this.userInput = this.nextLetter;\n    setTimeout(() => {\n      this.inputField.nativeElement.focus();\n    }, 0);\n  }\n  quit() {\n    this.score = 0;\n    this.quitButtonClicked.emit();\n  }\n}\nGameComponent.ɵfac = function GameComponent_Factory(t) {\n  return new (t || GameComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nGameComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GameComponent,\n  selectors: [[\"app-game\"]],\n  viewQuery: function GameComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.inputField = _t.first);\n    }\n  },\n  outputs: {\n    timerFinished: \"timerFinished\",\n    quitButtonClicked: \"quitButtonClicked\"\n  },\n  decls: 26,\n  vars: 11,\n  consts: [[\"class\", \"countdown\", 4, \"ngIf\"], [1, \"game-wrapper\"], [\"class\", \"high-score\", 4, \"ngIf\"], [1, \"header\"], [1, \"header-title\"], [1, \"sub-header\"], [1, \"sub-header-item\"], [1, \"header-label\"], [1, \"header-value\"], [3, \"hasGameStarted\", \"timerFinished\"], [1, \"next-letter\"], [\"type\", \"text\", 1, \"user-input\", 3, \"ngModel\", \"placeholder\", \"input\", \"keydown.enter\", \"ngModelChange\"], [\"inputField\", \"\"], [1, \"word-chain\"], [\"class\", \"word-chain-row\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"in-game-quit\", 1, \"button-quit\", 3, \"click\"], [1, \"countdown\"], [1, \"high-score\"], [1, \"word-chain-row\"], [1, \"word-chain-link\"]],\n  template: function GameComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, GameComponent_div_0_Template, 2, 1, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵtemplate(2, GameComponent_div_2_Template, 2, 1, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"h1\", 4);\n      i0.ɵɵtext(5, \"Word Chain\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"div\", 6)(8, \"span\", 7);\n      i0.ɵɵtext(9, \"Chain Length:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"span\", 8);\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 6)(13, \"span\", 7);\n      i0.ɵɵtext(14, \"Score:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"span\", 8);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"app-timer\", 9);\n      i0.ɵɵlistener(\"timerFinished\", function GameComponent_Template_app_timer_timerFinished_17_listener() {\n        return ctx.handleTimerFinished();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 10);\n      i0.ɵɵtext(19);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 11, 12);\n      i0.ɵɵlistener(\"input\", function GameComponent_Template_input_input_20_listener($event) {\n        return ctx.onInput($event);\n      })(\"keydown.enter\", function GameComponent_Template_input_keydown_enter_20_listener() {\n        return ctx.onSubmit();\n      })(\"ngModelChange\", function GameComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.userInput = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 13);\n      i0.ɵɵtemplate(23, GameComponent_div_23_Template, 3, 1, \"div\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function GameComponent_Template_button_click_24_listener() {\n        return ctx.quit();\n      });\n      i0.ɵɵtext(25, \"QUIT\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.countdown !== null);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.highScore > 0);\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(ctx.wordChain.length);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.score.toLocaleString());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hasGameStarted\", ctx.countdown === null);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.nextLetter);\n      i0.ɵɵadvance(1);\n      i0.ɵɵstyleProp(\"color\", ctx.userInputColor);\n      i0.ɵɵproperty(\"ngModel\", ctx.userInput)(\"placeholder\", ctx.nextLetter);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.wordChain);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.TimerComponent],\n  styles: [\".game-wrapper[_ngcontent-%COMP%], .game-menu[_ngcontent-%COMP%], .word[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-start;\\n  align-items: center;\\n  flex-direction: column;\\n  width: auto;\\n  padding: 30px;\\n}\\n\\n.countdown[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  z-index: 9999;\\n  font-size: 5em;\\n  color: red;\\n}\\n\\n.letter-text[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\n.letter-stats[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 10px;\\n  font-weight: bold;\\n}\\n\\n.points[_ngcontent-%COMP%] {\\n  border-radius: 4px;\\n  font-weight: bold;\\n}\\n\\n.header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  text-align: center;\\n}\\n\\n.sub-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-around;\\n  margin-bottom: 20px;\\n  width: 80vw;\\n}\\n\\n.sub-header-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n}\\n\\n.header-label[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 1.2em;\\n}\\n\\n.header-value[_ngcontent-%COMP%] {\\n  font-size: 1.2em;\\n}\\n\\n.header-title[_ngcontent-%COMP%] {\\n  -webkit-text-decoration: bold;\\n          text-decoration: bold;\\n  text-align: center;\\n  font-size: 2.5em;\\n}\\n\\n.header-subtitle[_ngcontent-%COMP%] {\\n  font-size: 1em;\\n  text-align: center;\\n  width: 65%;\\n}\\n\\n.next-letter[_ngcontent-%COMP%] {\\n  -webkit-text-decoration: bold;\\n          text-decoration: bold;\\n  text-align: center;\\n  font-size: 2.25em;\\n  height: 21px;\\n}\\n\\n.user-input[_ngcontent-%COMP%] {\\n  background: transparent;\\n  border: transparent;\\n  border-bottom: 1px solid white;\\n  text-align: center;\\n  margin-top: 40px;\\n  padding: 15px;\\n  font-size: 2.25em;\\n  outline: none;\\n  max-width: -moz-fit-content;\\n  max-width: fit-content;\\n  height: 21px;\\n}\\n\\n.word-chain[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n  padding: 10px 35px;\\n}\\n\\n.word-chain-row[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\n\\n.word-chain-link[_ngcontent-%COMP%] {\\n  padding: 10px 4px;\\n  font-size: 1.5rem;\\n}\\n\\n#in-game-quit[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 0;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  margin: 10px;\\n}\\n\\n\\n@media only screen and (min-width: 481px) and (max-width: 768px) {\\n  .game-wrapper[_ngcontent-%COMP%], .game-menu[_ngcontent-%COMP%], .word[_ngcontent-%COMP%] {\\n    padding: 20px;\\n  }\\n  .countdown[_ngcontent-%COMP%] {\\n    font-size: 4em;\\n  }\\n  .header-title[_ngcontent-%COMP%] {\\n    font-size: 2em;\\n  }\\n  .header-value[_ngcontent-%COMP%] {\\n    font-size: 1.2em;\\n  }\\n  .next-letter[_ngcontent-%COMP%] {\\n    font-size: 2.5em;\\n  }\\n  .user-input[_ngcontent-%COMP%] {\\n    padding-top: 30px;\\n  }\\n}\\n\\n@media only screen and (max-width: 480px) {\\n  .game-wrapper[_ngcontent-%COMP%], .game-menu[_ngcontent-%COMP%], .word[_ngcontent-%COMP%] {\\n    padding: 15px;\\n  }\\n  .countdown[_ngcontent-%COMP%] {\\n    font-size: 3em;\\n  }\\n  .header-title[_ngcontent-%COMP%] {\\n    font-size: 1.8em;\\n  }\\n  .header-value[_ngcontent-%COMP%] {\\n    font-size: 1.2em;\\n  }\\n  .sub-header[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n  .next-letter[_ngcontent-%COMP%] {\\n    font-size: 2.75em;\\n    padding: 20px;\\n  }\\n  .user-input[_ngcontent-%COMP%] {\\n    padding-top: 25px;\\n  }\\n  #in-game-quit[_ngcontent-%COMP%] {\\n    margin-bottom: 40px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9nYW1lL2dhbWUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EsMkJBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLGdDQUFBO0VBQ0EsYUFBQTtFQUNBLGNBQUE7RUFDQSxVQUFBO0FBQ0o7O0FBRUE7RUFDSSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQTtFQUNJLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0FBQ0o7O0FBRUE7RUFDSSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxRQUFBO0FBQ0o7O0FBRUE7RUFDSSxpQkFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxnQkFBQTtBQUNKOztBQUVBO0VBQ0ksNkJBQUE7VUFBQSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFDSjs7QUFFQTtFQUNJLGNBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7QUFDSjs7QUFFQTtFQUNJLDZCQUFBO1VBQUEscUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUVBO0VBQ0ksdUJBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7RUFDQSwyQkFBQTtFQUFBLHNCQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtFQUNBLGVBQUE7RUFDQSwyQkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFFQTtFQUNJLGFBQUE7QUFDSjs7QUFFQTtFQUNJLGlCQUFBO0VBQ0EsaUJBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7RUFDQSxTQUFBO0VBQ0EsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLFlBQUE7QUFDSjs7QUFFQSwrQkFBQTtBQUNBO0VBQ0U7OztJQUdFLGFBQUE7RUFDRjtFQUVBO0lBQ0UsY0FBQTtFQUFGO0VBR0E7SUFDRSxjQUFBO0VBREY7RUFJQTtJQUNFLGdCQUFBO0VBRkY7RUFLQTtJQUNFLGdCQUFBO0VBSEY7RUFNQTtJQUNFLGlCQUFBO0VBSkY7QUFDRjtBQU9BLHNCQUFBO0FBQ0E7RUFDRTs7O0lBR0UsYUFBQTtFQUxGO0VBUUE7SUFDRSxjQUFBO0VBTkY7RUFTQTtJQUNFLGdCQUFBO0VBUEY7RUFVQTtJQUNFLGdCQUFBO0VBUkY7RUFXQTtJQUNFLHNCQUFBO0VBVEY7RUFZQTtJQUNFLGlCQUFBO0lBQ0EsYUFBQTtFQVZGO0VBYUE7SUFDRSxpQkFBQTtFQVhGO0VBY0E7SUFDRSxtQkFBQTtFQVpGO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIuZ2FtZS13cmFwcGVyLCAuZ2FtZS1tZW51LCAud29yZCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIHBhZGRpbmc6IDMwcHg7XG59XG5cbi5jb3VudGRvd24ge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgei1pbmRleDogOTk5OTtcbiAgICBmb250LXNpemU6IDVlbTtcbiAgICBjb2xvcjogcmVkO1xufVxuXG4ubGV0dGVyLXRleHQge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4ubGV0dGVyLXN0YXRzIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnBvaW50cyB7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uaGVhZGVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLnN1Yi1oZWFkZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIHdpZHRoOiA4MHZ3O1xufVxuXG4uc3ViLWhlYWRlci1pdGVtIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZ2FwOiA1cHg7XG59XG5cbi5oZWFkZXItbGFiZWwge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMS4yZW07XG59XG5cbi5oZWFkZXItdmFsdWUge1xuICAgIGZvbnQtc2l6ZTogMS4yZW07XG59XG5cbi5oZWFkZXItdGl0bGUge1xuICAgIHRleHQtZGVjb3JhdGlvbjogYm9sZDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZm9udC1zaXplOiAyLjVlbTtcbn1cblxuLmhlYWRlci1zdWJ0aXRsZSB7XG4gICAgZm9udC1zaXplOiAxZW07XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHdpZHRoOiA2NSU7XG59XG5cbi5uZXh0LWxldHRlciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBib2xkO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDIuMjVlbTtcbiAgICBoZWlnaHQ6IDIxcHg7XG59XG5cbi51c2VyLWlucHV0IHtcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICBib3JkZXI6IHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB3aGl0ZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luLXRvcDogNDBweDtcbiAgICBwYWRkaW5nOiAxNXB4O1xuICAgIGZvbnQtc2l6ZTogMi4yNWVtO1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgbWF4LXdpZHRoOiBmaXQtY29udGVudDtcbiAgICBoZWlnaHQ6IDIxcHg7XG59XG5cbi53b3JkLWNoYWluIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgcGFkZGluZzogMTBweCAzNXB4O1xufVxuXG4ud29yZC1jaGFpbi1yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG59XG5cbi53b3JkLWNoYWluLWxpbmsge1xuICAgIHBhZGRpbmc6IDEwcHggNHB4O1xuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xufVxuXG4jaW4tZ2FtZS1xdWl0IHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgYm90dG9tOiAwO1xuICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgICBtYXJnaW46IDEwcHg7XG59XG5cbi8qIFN0eWxlcyBmb3Igc21hbGxlciBzY3JlZW5zICovXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQ4MXB4KSBhbmQgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLmdhbWUtd3JhcHBlcixcbiAgLmdhbWUtbWVudSxcbiAgLndvcmQge1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gIH1cblxuICAuY291bnRkb3duIHtcbiAgICBmb250LXNpemU6IDRlbTtcbiAgfVxuXG4gIC5oZWFkZXItdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMmVtO1xuICB9XG5cbiAgLmhlYWRlci12YWx1ZSB7XG4gICAgZm9udC1zaXplOiAxLjJlbTtcbiAgfVxuXG4gIC5uZXh0LWxldHRlciB7XG4gICAgZm9udC1zaXplOiAyLjVlbTtcbiAgfVxuXG4gIC51c2VyLWlucHV0IHtcbiAgICBwYWRkaW5nLXRvcDogMzBweDtcbiAgfVxufVxuXG4vKiBTdHlsZXMgZm9yIG1vYmlsZSAqL1xuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0ODBweCkge1xuICAuZ2FtZS13cmFwcGVyLFxuICAuZ2FtZS1tZW51LFxuICAud29yZCB7XG4gICAgcGFkZGluZzogMTVweDtcbiAgfVxuXG4gIC5jb3VudGRvd24ge1xuICAgIGZvbnQtc2l6ZTogM2VtO1xuICB9XG5cbiAgLmhlYWRlci10aXRsZSB7XG4gICAgZm9udC1zaXplOiAxLjhlbTtcbiAgfVxuXG4gIC5oZWFkZXItdmFsdWUge1xuICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gIH1cblxuICAuc3ViLWhlYWRlciB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuXG4gIC5uZXh0LWxldHRlciB7XG4gICAgZm9udC1zaXplOiAyLjc1ZW07XG4gICAgcGFkZGluZzogMjBweDtcbiAgfVxuXG4gIC51c2VyLWlucHV0IHtcbiAgICBwYWRkaW5nLXRvcDogMjVweDtcbiAgfVxuXG4gICNpbi1nYW1lLXF1aXQge1xuICAgIG1hcmdpbi1ib3R0b206IDQwcHg7XG4gIH1cbn1cblxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","forkJoin","take","alphabet","textColors","letterPoints","i0","GameComponent","constructor","http","nextLetter","default","Map","Number","localStorage","getItem","ngAfterViewInit","startCountdown","focusOnInput","inputField","nativeElement","focus","countdownValues","countdownIndex","displayCountdown","length","countdown","setNextLetter","setTimeout","Math","floor","random","userInput","onInput","event","htmlElement","target","value","toUpperCase","onSubmit","validateWord","calculateScore","score","i","handleSuccess","dictionaryResp","userInputColor","success","stats","push","letter","points","totalPoints","word","index","wordChain","definitions","meanings","wordCache","set","updateNextLetter","handleMistake","mistake","alphabetRegex","has","test","dictionaryUrl","profanityUrl","get","pipe","subscribe","containsProfanity","error","console","handleTimerFinished","timerFinished","emit","chain","cache","playAgain","highScore","setItem","toLocaleString","quit","quitButtonClicked","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["/Users/johnathansimeroth/Documents/sweProjects/word-chain/src/app/components/game/game.component.ts","/Users/johnathansimeroth/Documents/sweProjects/word-chain/src/app/components/game/game.component.html"],"sourcesContent":["import { Component, ViewChild, ElementRef, Output, EventEmitter, AfterViewInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { forkJoin, take } from 'rxjs';\nimport { alphabet, Word, TextColors, textColors, letterPoints, TimerEventData } from '../../game.model';\n\n@Component({\n  selector: 'app-game',\n  templateUrl: './game.component.html',\n  styleUrls: ['./game.component.scss']\n})\nexport class GameComponent implements AfterViewInit {\n  @ViewChild('inputField') inputField!: ElementRef;\n  @Output() timerFinished: EventEmitter<TimerEventData> = new EventEmitter<TimerEventData>();\n  @Output() quitButtonClicked: EventEmitter<any> = new EventEmitter<any>();\n\n  countdown: string | null = '3';\n  nextLetter: string = '';\n  userInput: string = this.nextLetter;\n  userInputColor: TextColors = textColors.default;\n  wordChain: string[] = [];\n  wordCache = new Map();\n  score: number = 0;\n  highScore: number = Number(localStorage.getItem('highScore')) || 0;\n  alphabet = alphabet;\n  letterPoints = letterPoints;\n\n  constructor(private http: HttpClient) {}\n\n  ngAfterViewInit(): void {\n    this.startCountdown();\n  }\n\n  focusOnInput(): void {\n    this.inputField.nativeElement.focus();\n  }\n\n  startCountdown(): void {\n    const countdownValues = ['3', '2', '1', 'GO'];\n    let countdownIndex = 0;\n\n    const displayCountdown = () => {\n      if (countdownIndex >= countdownValues.length) {\n        this.countdown = null;\n        this.setNextLetter();\n        this.focusOnInput();\n      } else {\n        this.countdown = countdownValues[countdownIndex];\n        countdownIndex++;\n        setTimeout(displayCountdown, 1000);\n      }\n    };\n\n    displayCountdown();\n  }\n\n  setNextLetter(): void {\n    this.nextLetter = alphabet[Math.floor(Math.random() * alphabet.length)];\n    this.userInput = this.nextLetter;\n  }\n\n  onInput(event: Event): void {\n    const htmlElement = event.target as HTMLInputElement;\n    const value = htmlElement.value.toUpperCase();\n    this.userInput = value;\n  }\n\n  onSubmit(): void {\n    this.validateWord();\n  }\n\n  calculateScore(): number {\n    let score = 0;\n    for (let i = 1; i < this.userInput.length; i++) {\n        score += letterPoints[this.userInput[i]];\n    }\n    return score;\n  }\n\n  handleSuccess(dictionaryResp: any): void {\n    this.userInputColor = textColors.success;\n    const stats = [];\n    for (let i = 1; i < this.userInput.length; i++) {\n      stats.push({\n        letter: this.userInput[i],\n        points: this.letterPoints[this.userInput[i]],\n      });\n    }\n    const totalPoints = this.calculateScore();\n    const word: Word = {\n      index: this.wordChain.length,\n      definitions: dictionaryResp[0].meanings,\n      stats,\n      totalPoints,\n    };\n    setTimeout(() => {\n      this.wordChain.push(this.userInput);\n      this.wordCache.set(this.userInput, word);\n      this.score += totalPoints;\n      this.updateNextLetter();\n    }, 250);\n  }\n\n  handleMistake(): void {\n    this.userInputColor = textColors.mistake;\n    setTimeout(() => {\n      this.userInput = this.nextLetter;\n      this.userInputColor = textColors.default;\n    }, 500);\n  }\n\n  validateWord() {\n    const alphabetRegex = /^[a-zA-Z]+$/;\n    if (this.userInput[0] !== this.nextLetter || this.userInput.length === 1 || this.wordCache.has(this.userInput) || !alphabetRegex.test(this.userInput)) {\n      this.handleMistake();\n      return;\n    }\n\n    // const dictionaryUrl = `https://api.dictionaryapi.dev/api/v2/entries/en/${this.userInput}`;\n    const dictionaryUrl = `http://api.wordnik.com/v4/word.json/${this.userInput}/definitions?api_key=7yjonxaqrr38fsb900hiygigvhofqulav543227af9gengnzd`\n    const profanityUrl = `https://www.purgomalum.com/service/containsprofanity?text=${this.userInput}`;\n\n    forkJoin([\n      this.http.get(dictionaryUrl),\n      this.http.get(profanityUrl),\n    ]).pipe(take(1)).subscribe(\n      ([dictionaryResp, containsProfanity]) => {\n        containsProfanity ? this.handleMistake() : this.handleSuccess(dictionaryResp);\n      },\n      (error: any) => {\n        console.error(error);\n        this.handleMistake();\n      }\n    );\n  }\n\n  updateNextLetter(): void {\n    this.nextLetter = this.userInput[this.userInput.length - 1];\n    this.userInput = this.nextLetter;\n    this.userInputColor = textColors.default;\n  }\n\n  handleTimerFinished(): void {\n    this.timerFinished.emit({\n      chain: this.wordChain,\n      cache: this.wordCache,\n      score: this.score,\n    });\n  }\n\n  playAgain(): void {\n    this.wordChain = [];\n    this.wordCache = new Map();\n    if (this.score > this.highScore) {\n      this.highScore = this.score;\n      localStorage.setItem('highScore', this.highScore.toLocaleString());\n    }\n    this.score = 0;\n    this.setNextLetter();\n    this.userInput = this.nextLetter;\n\n    setTimeout(() => {\n      this.inputField.nativeElement.focus();\n    }, 0);\n  }\n\n  quit(): void {\n    this.score = 0;\n    this.quitButtonClicked.emit();\n  }\n}\n","<div class=\"countdown\" *ngIf=\"countdown !== null\">{{ countdown }}</div>\n\n<div class=\"game-wrapper\">\n  <div *ngIf=\"highScore > 0\" class=\"high-score\">High Score: {{ highScore.toLocaleString() }}</div>\n  <div class=\"header\">\n    <h1 class=\"header-title\">Word Chain</h1>\n  </div>\n  <div class=\"sub-header\">\n      <div class=\"sub-header-item\">\n        <span class=\"header-label\">Chain Length:</span>\n        <span class=\"header-value\">{{ wordChain.length }}</span>\n      </div>\n      <div class=\"sub-header-item\">\n        <span class=\"header-label\">Score:</span>\n        <span class=\"header-value\">{{ score.toLocaleString() }}</span>\n      </div>\n      <app-timer [hasGameStarted]=\"countdown === null\" (timerFinished)=\"handleTimerFinished()\"></app-timer>\n    </div>\n  <div class=\"next-letter\">{{ nextLetter }}</div>\n  <input\n    #inputField\n    type=\"text\" \n    class=\"user-input\" \n    (input)=\"onInput($event)\"\n    (keydown.enter)=\"onSubmit()\"\n    [(ngModel)]=\"userInput\"\n    [style.color]=\"userInputColor\"\n    [placeholder]=\"nextLetter\"\n  >\n  <div class=\"word-chain\">\n    <div class=\"word-chain-row\" *ngFor=\"let word of wordChain\">\n      <div class=\"word-chain-link\">\n        {{ word }}   &rarr;\n      </div>\n    </div>\n  </div>\n  <button id=\"in-game-quit\" class=\"button-quit\" (click)=\"quit()\">QUIT</button>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}